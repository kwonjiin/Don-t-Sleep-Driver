# 🚗 OpenCV 기반 졸음운전 방지 시스템

</br>

운전 중 졸음은 사고로 이어질 가능성이 매우 높습니다.  
이 프로젝트는 **OpenCV와 dlib 기반 얼굴 랜드마크 분석**을 활용해 졸음을 감지하고,  
위험 단계별로 시각/청각 경고를 제공하는 **졸음운전 방지 시스템**입니다.

</br>

---

## ⚠️ 졸음운전의 위험성

</br>

- 전체 교통사고의 약 20%가 졸음운전으로 인한 사고
- 순간적인 졸음(마이크로슬립)도 2~3초면 시속 100km 기준 50~80m를 무방비 주행
- **하품, 눈 깜빡임, 고개 숙임**은 졸음의 주요 징후

</br>

---

## 🛠️ 주요 기능

</br>

1. **실시간 졸음 감지**
   - **EAR(Eye Aspect Ratio)**: 눈 감김 정도로 졸음 판단
   - **MAR(Mouth Aspect Ratio)**: 하품 여부로 졸음 판단
   - **Head Tilt**: 고개 숙임으로 졸음 단계 상승
  
</br>

2. **위험 단계별 알림**
   - 경고음 (pygame)
   - 심각 시 음성 안내(TTS)
   - GUI 빨간 화면 경고

</br>

3. **운전 세션 기록**
   - 졸음 감지 횟수, EAR/MAR/Head Tilt 로그 저장
   - 운전 종료 시 요약 팝업

</br>

4. **GUI 지원**
   - 시작/종료 버튼
   - 실시간 카메라 피드
   - 추후 그래프 시각화 확장 가능
  
</br>
     
---

## 🔎 알고리즘 (트리형 로직)

</br>

```plaintext
눈 감김 → 졸음 1단계
눈 감김 + 하품 → 졸음 2단계 (경고음)
눈 감김 + 하품 + 고개 숙임 → 졸음 3단계 (강력 경고 + 음성 안내)
```

</br>

---

## 🛠 기술스택

</br>

- **Python 3.11**
- **OpenCV** : 실시간 카메라 영상 처리
- **dlib** : 얼굴 68 랜드마크 추출
- **NumPy / SciPy** : EAR(눈), MAR(입) 계산
- **pygame** : 경고음 재생
- **gTTS / pyttsx3** : 음성 경고
- **Tkinter** : GUI 제작

</br>

---

## 🌱 발전 가능성

</br>

- 실시간 운전 피로도 분석

   - EAR/MAR, 졸음 횟수를 기반으로 운전자 피로도 점수화

- 모바일 연동

   - BLE/Wi-Fi를 이용해 앱 알림 전송

- 운전 습관 분석

   - CSV/DB에 로그 저장 후 시각화 및 통계 제공
 
- AI 기반 졸음 패턴 학습

   - 머신러닝으로 개인 맞춤형 졸음 예측

</br>

---
